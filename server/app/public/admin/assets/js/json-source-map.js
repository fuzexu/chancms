var e={},n={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",'"':'"',"/":"/","\\":"\\"},r="a".charCodeAt();e.parse=function(e,t,a){var o={},i=0,c=0,f=0,u=a&&a.bigint&&"undefined"!=typeof BigInt;return{data:s("",!0),pointers:o};function s(n,r){var t;l(),y(n,"value");var a=p();switch(a){case"t":b("rue"),t=!0;break;case"f":b("alse"),t=!1;break;case"n":b("ull"),t=null;break;case'"':t=v();break;case"[":t=function(e){l();var n=[],r=0;if("]"==p())return n;k();for(;;){var t=e+"/"+r;n.push(s(t)),l();var a=p();if("]"==a)break;","!=a&&N(),l(),r++}return n}(n);break;case"{":t=function(e){l();var n={};if("}"==p())return n;k();for(;;){var r=w();'"'!=p()&&N();var t=v(),a=e+"/"+g(t);E(a,"key",r),y(a,"keyEnd"),l(),":"!=p()&&N(),l(),n[t]=s(a),l();var o=p();if("}"==o)break;","!=o&&N(),l()}return n}(n);break;default:k(),"-0123456789".indexOf(a)>=0?t=function(){var n="",r=!0;"-"==e[f]&&(n+=p());n+="0"==e[f]?p():d(),"."==e[f]&&(n+=p()+d(),r=!1);"e"!=e[f]&&"E"!=e[f]||(n+=p(),"+"!=e[f]&&"-"!=e[f]||(n+=p()),n+=d(),r=!1);var t=+n;return u&&r&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)?BigInt(n):t}():S()}return y(n,"valueEnd"),l(),r&&f<e.length&&S(),t}function l(){e:for(;f<e.length;){switch(e[f]){case" ":c++;break;case"\t":c+=4;break;case"\r":c=0;break;case"\n":c=0,i++;break;default:break e}f++}}function v(){for(var e,r="";'"'!=(e=p());)"\\"==e?(e=p())in n?r+=n[e]:"u"==e?r+=h():N():r+=e;return r}function b(e){for(var n=0;n<e.length;n++)p()!==e[n]&&N()}function p(){x();var n=e[f];return f++,c++,n}function k(){f--,c--}function h(){for(var e=4,n=0;e--;){n<<=4;var t=p().toLowerCase();t>="a"&&t<="f"?n+=t.charCodeAt()-r+10:t>="0"&&t<="9"?n+=+t:N()}return String.fromCharCode(n)}function d(){for(var n="";e[f]>="0"&&e[f]<="9";)n+=p();if(n.length)return n;x(),S()}function y(e,n){E(e,n,w())}function E(e,n,r){o[e]=o[e]||{},o[e][n]=r}function w(){return{line:i,column:c,pos:f}}function S(){throw new SyntaxError("Unexpected token "+e[f]+" in JSON at position "+f)}function N(){k(),S()}function x(){if(f>=e.length)throw new SyntaxError("Unexpected end of JSON input")}},e.stringify=function(e,n,r){if(a(e)){var t,o,i=0,c="object"==typeof r?r.space:r;switch(typeof c){case"number":var f=c>10?10:c<0?0:Math.floor(c);c=f&&w(f," "),t=f,o=f;break;case"string":c=c.slice(0,10),t=0,o=0;for(var u=0;u<c.length;u++){switch(c[u]){case" ":o++;break;case"\t":o+=4;break;case"\r":o=0;break;case"\n":o=0,i++;break;default:throw new Error("whitespace characters not allowed in JSON")}t++}break;default:c=void 0}var s="",v={},b=0,p=0,k=0,h=r&&r.es6&&"function"==typeof Map;return function e(n,r,t){switch(E(t,"value"),typeof n){case"number":case"bigint":case"boolean":d(""+n);break;case"string":d(l(n));break;case"object":null===n?d("null"):"function"==typeof n.toJSON?d(l(n.toJSON())):Array.isArray(n)?o():h?n.constructor.BYTES_PER_ELEMENT?o():n instanceof Map?f():n instanceof Set?f(!0):i():i()}function o(){if(n.length){d("[");for(var o=r+1,i=0;i<n.length;i++){i&&d(","),y(o);var c=a(n[i])?n[i]:null;e(c,o,t+"/"+i)}y(r),d("]")}else d("[]")}function i(){var o=Object.keys(n);if(o.length){d("{");for(var i=r+1,f=0;f<o.length;f++){var u=o[f],s=n[u];if(a(s)){f&&d(",");var v=t+"/"+g(u);y(i),E(v,"key"),d(l(u)),E(v,"keyEnd"),d(":"),c&&d(" "),e(s,i,v)}}y(r),d("}")}else d("{}")}function f(o){if(n.size){d("{");for(var i=r+1,f=!0,u=n.entries(),s=u.next();!s.done;){var v=s.value,b=v[0],p=!!o||v[1];if(a(p)){f||d(","),f=!1;var k=t+"/"+g(b);y(i),E(k,"key"),d(l(b)),E(k,"keyEnd"),d(":"),c&&d(" "),e(p,i,k)}s=u.next()}y(r),d("}")}else d("{}")}E(t,"valueEnd")}(e,0,""),{json:s,pointers:v}}function d(e){p+=e.length,k+=e.length,s+=e}function y(e){if(c){for(s+="\n"+w(e,c),b++,p=0;e--;)i?(b+=i,p=o):p+=o,k+=t;k+=1}}function E(e,n){v[e]=v[e]||{},v[e][n]={line:b,column:p,pos:k}}function w(e,n){return Array(e+1).join(n)}};var t=["number","bigint","boolean","string","object"];function a(e){return t.indexOf(typeof e)>=0}var o=/"|\\/g,i=/[\b]/g,c=/\f/g,f=/\n/g,u=/\r/g,s=/\t/g;function l(e){return'"'+(e=e.replace(o,"\\$&").replace(c,"\\f").replace(i,"\\b").replace(f,"\\n").replace(u,"\\r").replace(s,"\\t"))+'"'}var v=/~/g,b=/\//g;function g(e){return e.replace(v,"~0").replace(b,"~1")}export{e as j};
